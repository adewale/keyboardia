.step-sequencer {
  background: #1a1a1a;
  border-radius: 12px;
  padding: 24px;
  width: 100%;
  max-width: calc(100vw - 48px); /* Account for app padding */
  position: relative;
  box-sizing: border-box;
}

/* Phase 29E: Content area with tracks and scale sidebar */
.sequencer-content {
  display: flex;
  gap: 0;
}

.tracks {
  flex: 1;
  min-width: 0; /* Allow shrinking */
  display: flex;
  flex-direction: column;
  gap: 2px;
  overflow-x: auto;
  padding-bottom: 8px; /* Space for scrollbar */
}

/* Custom scrollbar styling for the tracks panel */
.tracks::-webkit-scrollbar {
  height: 8px;
}

.tracks::-webkit-scrollbar-track {
  background: #252525;
  border-radius: 4px;
}

.tracks::-webkit-scrollbar-thumb {
  background: #444;
  border-radius: 4px;
}

.tracks::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* Phase 21: Published session styling - "museum glass" treatment
 * Goals:
 * - User can see the playhead move unobstructed
 * - Clear visual indicator that it's read-only (subtle scrim)
 * - Transport still works for play/pause
 */
.step-sequencer.published {
  /* Subtle border glow to indicate special state */
  box-shadow:
    inset 0 0 0 1px rgba(155, 89, 182, 0.3),
    0 0 20px rgba(155, 89, 182, 0.1);
}

.step-sequencer.published .sequencer-content {
  pointer-events: none;
}

.step-sequencer.published .tracks {
  position: relative;
}

/* Glass/scrim overlay effect - subtle, doesn't block visibility */
.step-sequencer.published .tracks::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(
    135deg,
    rgba(155, 89, 182, 0.03) 0%,
    rgba(155, 89, 182, 0.06) 50%,
    rgba(155, 89, 182, 0.03) 100%
  );
  pointer-events: none;
  z-index: 10;
  border-radius: 4px;
}

/* Subtle scan-line effect for "frozen in time" feel */
.step-sequencer.published .tracks::after {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(155, 89, 182, 0.02) 2px,
    rgba(155, 89, 182, 0.02) 4px
  );
  pointer-events: none;
  z-index: 11;
  border-radius: 4px;
}

/* Slightly desaturate track controls but keep playhead visible */
.step-sequencer.published .track-row {
  filter: saturate(0.85);
}

/* Keep the playhead vibrant */
.step-sequencer.published .step-cell.playing::before {
  filter: saturate(1.3);
}

.step-sequencer.published .transport {
  pointer-events: auto; /* Allow play/pause */
}

/* Disable tempo and swing controls - only play button should work */
.step-sequencer.published .transport .tempo-control,
.step-sequencer.published .transport .swing-control {
  pointer-events: none;
  opacity: 0.5;
  cursor: default;
}

/* Ensure sliders don't show pointer cursor */
.step-sequencer.published .transport .tempo-control input,
.step-sequencer.published .transport .swing-control input {
  cursor: default;
}

/* Mobile TransportBar - disable tempo/swing drag controls */
.step-sequencer.published .transport-bar .transport-value {
  pointer-events: none;
  opacity: 0.5;
  cursor: default;
}

/* Hide the drag hint arrow on disabled controls */
.step-sequencer.published .transport-bar .transport-value::after {
  display: none;
}

